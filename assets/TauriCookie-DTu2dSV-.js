import{C as n}from"./index--Cfhpedu.js";class t extends n{constructor(e,r,d,s){super(e),this._migrateFrom=s}static _encoded=new Map;static _onCookieUpdated;static onCookieUpdated(e){t._onCookieUpdated=e}static setEncoded(e){t._encoded=e}set(e,r,d,s={encrypt:!0}){t._encoded.set(e,s.encrypt?this._encrypt(r):r),t._onCookieUpdated(t._encoded)}remove(e){t._encoded.delete(e),t._onCookieUpdated(t._encoded)}get(e,r=!0){let d=t._encoded.get(e);return!d&&this._migrateFrom?(d=this._migrateFrom.get(e),d&&this.set(e,d),d):d?r?this._decrypt(d):d:null}exist(e){return t._encoded.has(e)||this._migrateFrom&&this._migrateFrom.exist(e)}getAllNames(){const e=new Set(Array.from(t._encoded.keys()));return this._migrateFrom&&this._migrateFrom.getAllNames().forEach(r=>e.add(r)),Array.from(e)}}export{t as default};
