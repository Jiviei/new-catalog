import{t as d}from"./index--Cfhpedu.js";class T{_radius=9;_roundedRectRadius=3;_lineWidth=2;_color="#fc2847";_textOffset=1.5;_font;_fontStyle="white";_textAlign="center";_textBaseline="middle";constructor(e,t){let i=12;const o="bold",s="Roboto";e<t&&(this._radius=this._findX1(this._radius,t,e),this._roundedRectRadius=this._findX1(this._roundedRectRadius,t,e),this._lineWidth=this._findX1(this._lineWidth,t,e),this._textOffset=this._findX1(this._textOffset,t,e),i=this._findX1(i,t,e)),this._font=`${o} ${i}px ${s}`}_findX1(e,t,i){if(i===0)throw new Error(d("word.error.divide-by-zero-error"));return e*t/i}_getPixels(e,t){return this._findX1(e,t,100)}_drawCircle(e,t,i,o){const s=e.fillStyle;e.fillStyle=this._color,e.beginPath(),e.arc(t,i,o,0,2*Math.PI,!1),e.fill(),e.fillStyle=s}_printText(e,t,i,o){const s=e.textAlign,l=e.textBaseline,r=e.fillStyle,n=e.font;e.textAlign=this._textAlign,e.textBaseline=this._textBaseline,e.fillStyle=this._fontStyle,e.font=this._font,e.fillText(t,i,o+this._textOffset),e.textAlign=s,e.textBaseline=l,e.fillStyle=r,e.font=n}}class b extends T{draw(e,t,i,o,s){const l=this._getPixels(o.width,t.x)+this._radius,r=this._getPixels(o.height,t.y)+this._radius;let n=l,a=r;switch(t.direction){case"top-left":n=l,a=r;break;case"top-right":n-=this._radius,a=r;break;case"bottom-left":n=l,a-=this._radius;break;case"bottom-right":n-=this._radius,a-=this._radius;break}this._drawCircle(e,n,a,this._radius);let h=n,_=a;switch(t.direction){case"top-left":h-=this._radius,_-=this._radius;break;case"top-right":h=n,_-=this._radius;break;case"bottom-left":h-=this._radius,_=a;break;case"bottom-right":h+=this._radius,_=a;break}e.beginPath(),this._roundRectOneSide(e,h,_,this._radius,this._radius,this._roundedRectRadius,t.direction),s&&this._printText(e,i,n,a)}_roundRectOneSide(e,t,i,o,s,l,r){const n=e.fillStyle;switch(e.fillStyle=this._color,e.beginPath(),r){case"top-left":e.moveTo(t+l,i),e.lineTo(t+o,i),e.lineTo(t+o,i+s),e.lineTo(t,i+s),e.lineTo(t,i+l),e.arc(t+l,i+l,l,Math.PI,1.5*Math.PI);break;case"top-right":e.moveTo(t,i),e.lineTo(t+o-l,i),e.arc(t+o-l,i+l,l,1.5*Math.PI,2*Math.PI),e.lineTo(t+o,i+s),e.lineTo(t,i+s);break;case"bottom-left":e.moveTo(t,i),e.lineTo(t,i+s-l),e.arc(t+l,i+s-l,l,.5*Math.PI,Math.PI,!1),e.lineTo(t+l,i+s),e.lineTo(t+o,i+s),e.lineTo(t+o,i);break;case"bottom-right":e.moveTo(t-o,i),e.lineTo(t,i),e.lineTo(t,i+s-l),e.arc(t-l,i+s-l,l,0,.5*Math.PI),e.lineTo(t-o,i+s);break}e.closePath(),e.fill(),e.fillStyle=n}}class S extends T{draw(e,t,i,o,s){const l=t;if(!l)throw new Error(d("word.error.wrong-object-type"));const r=super._getPixels(o.width,t.x),n=super._getPixels(o.height,t.y),a=super._getPixels(o.width,l.w),h=super._getPixels(o.height,l.h);if(this._drawRoundedRect(e,r,n,a,h,this._roundedRectRadius),s)switch(t.direction){case"top-left":this._drawCircle(e,r,n,this._radius),this._printText(e,i,r,n);break;case"top-right":this._drawCircle(e,r+a,n,this._radius),this._printText(e,i,r+a,n);break;case"bottom-left":this._drawCircle(e,r,n+h,this._radius),this._printText(e,i,r,n+h);break;case"bottom-right":this._drawCircle(e,r+a,n+h,this._radius),this._printText(e,i,r+a,n+h);break}}_drawRoundedRect(e,t,i,o,s,l){const r=e.fillStyle,n=e.strokeStyle,a=e.lineWidth;e.fillStyle=this._color,e.strokeStyle=this._color,e.lineWidth=this._lineWidth,e.beginPath(),e.moveTo(t+l,i),e.lineTo(t+o-l,i),e.arc(t+o-l,i+l,l,-.5*Math.PI,0),e.lineTo(t+o,i+s-l),e.arc(t+o-l,i+s-l,l,0,.5*Math.PI),e.lineTo(t+l,i+s),e.arc(t+l,i+s-l,l,.5*Math.PI,Math.PI),e.lineTo(t,i+l),e.arc(t+l,i+l,l,Math.PI,1.5*Math.PI),e.closePath(),e.stroke(),e.fillStyle=r,e.strokeStyle=n,e.lineWidth=a}}export{b as A,S};
